(function(e,d){function f(j,i,l){var k=j+":",h=document.createElement("test"),g=h.style;if(!l){g.cssText=k+["-webkit-","-moz-","-ms-","-o-",""].join(i+";"+k)+i+";"}else{g.cssText=k+i}return g[j].indexOf(i)!==-1}function a(g){return parseInt(g,10)||0}var c=0;var b={classes:{plugin:"fixedsticky",active:"fixedsticky-on",inactive:"fixedsticky-off",clone:"fixedsticky-dummy",withoutFixedFixed:"fixedsticky-withoutfixedfixed"},keys:{offset:"fixedStickyOffset",position:"fixedStickyPosition",id:"fixedStickyId"},tests:{sticky:f("position","sticky"),fixed:f("position","fixed",true)},getScrollTop:function(){var h="pageYOffset",g="scrollTop";return e?(h in e)?e[h]:e.document.documentElement[g]:e.document.body[g]},bypass:function(){return(b.tests.sticky&&!b.optOut)||!b.tests.fixed||e.FixedFixed&&!d(e.document.documentElement).hasClass("fixed-supported")},update:function(i){if(!i.offsetWidth){return}var w=d(i),s=w.outerHeight(),h=w.data(b.keys.offset),q=b.getScrollTop(),u=w.is("."+b.classes.active),n=function(x){w[x?"addClass":"removeClass"](b.classes.active)[!x?"addClass":"removeClass"](b.classes.inactive)},m=d(window).height(),l=w.data(b.keys.position),t,r,p,k=w.parent(),g=k.offset().top,o=k.outerHeight();if(h===undefined){h=w.offset().top;w.data(b.keys.offset,h);w.after(d("<div>").addClass(b.classes.clone).height(s))}else{w.next("."+b.classes.clone).height(s)}if(!l){t=w.css("top")!=="auto"||w.css("bottom")!=="auto";if(!t){w.css("position","fixed")}l={top:w.css("top")!=="auto",bottom:w.css("bottom")!=="auto"};if(!t){w.css("position","")}w.data(b.keys.position,l)}function j(){var x=q+r;return h<x&&x+s<=g+o}function v(){return h+(s||0)>q+m-p&&q+m-p>=g+(s||0)}r=a(w.css("top"));p=a(w.css("bottom"));if(l.top&&j()||l.bottom&&v()){if(!u){n(true)}}else{if(u){n(false)}}},destroy:function(h){var g=d(h);if(b.bypass()){return g}return g.each(function(){var i=d(this);var j=i.data(b.keys.id);d(e).unbind(".fixedsticky"+j);i.removeData([b.keys.offset,b.keys.position,b.keys.id]).removeClass(b.classes.active).removeClass(b.classes.inactive).next("."+b.classes.clone).remove()})},init:function(h){var g=d(h);if(b.bypass()){return g}return g.each(function(){var j=this;var i=c++;d(this).data(b.keys.id,i);d(e).bind("scroll.fixedsticky"+i,function(){b.update(j)}).trigger("scroll.fixedsticky"+i);d(e).bind("resize.fixedsticky"+i,function(){if(g.is("."+b.classes.active)){b.update(j)}})})}};e.FixedSticky=b;d.fn.fixedsticky=function(g){if(typeof b[g]==="function"){return b[g].call(b,this)}else{if(typeof g==="object"||!g){return b.init.call(b,this)}else{throw new Error("Method `"+g+"` does not exist on jQuery.fixedsticky")}}};if(!e.FixedFixed){d(e.document.documentElement).addClass(b.classes.withoutFixedFixed)}})(window,jQuery);